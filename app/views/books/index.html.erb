

<div class="text-center">

  <div class="row">
    <div class="col-3 border-end">
      <%= render 'search_form.html.erb' %>
    </div>
    
    <div class="col-9">
      <h2 class="my-5"> All Books </h2>
      <table class="table table-striped mt-5">
        <thead>
          <tr>
            <th>Title</th>
            <th>Total</th>
            <th>Rented</th>
            <th>Available</th>
            <th>Authors</th>
            <th>Genres</th>
            <th>Students</th>
          </tr>
        </thead>
        <tbody>
          <% @books.each do |book| %>
            <tr>
              <td> <%= book.title %> </td>
              <td> <%= book.quantity %> </td>
              <td> <%= book.rent %> </td>
              <td> <%= book.quantity - book.rent %> </td>
              <td> <%= raw(book.authors.pluck(:name).join('<br>')) %> </td>
              <td> <%= raw(book.genres.pluck(:title).join('<br>')) %> </td>
              <td> <%= raw(book.students.pluck(:name).join('<br>')) %> </td>
              <%# link_to 'Show', show_book_path(@book) %>
              <td> <%= link_to 'Details', book_path(book), class: 'btn btn-info' %> </td>
              <td> <%= button_to 'Delete', book, method: :delete, class: 'btn btn-info' %> </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>